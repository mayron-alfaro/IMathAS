var AMtoMQ=function(){var t=".",e=0,u=1,p=2,n=3,l=4,a=5,r=6,o=7,i=8,c=9,g=10,s={input:'"',tag:"mtext",output:"mbox",tex:null,ttype:g},m=[{input:"alpha",tag:"mi",output:"α",tex:null,ttype:e},{input:"beta",tag:"mi",output:"β",tex:null,ttype:e},{input:"chi",tag:"mi",output:"χ",tex:null,ttype:e},{input:"delta",tag:"mi",output:"δ",tex:null,ttype:e},{input:"Delta",tag:"mo",output:"Δ",tex:null,ttype:e},{input:"epsi",tag:"mi",output:"ε",tex:"epsilon",ttype:e},{input:"varepsilon",tag:"mi",output:"ɛ",tex:null,ttype:e},{input:"eta",tag:"mi",output:"η",tex:null,ttype:e},{input:"gamma",tag:"mi",output:"γ",tex:null,ttype:e},{input:"Gamma",tag:"mo",output:"Γ",tex:null,ttype:e},{input:"iota",tag:"mi",output:"ι",tex:null,ttype:e},{input:"kappa",tag:"mi",output:"κ",tex:null,ttype:e},{input:"lambda",tag:"mi",output:"λ",tex:null,ttype:e},{input:"Lambda",tag:"mo",output:"Λ",tex:null,ttype:e},{input:"mu",tag:"mi",output:"μ",tex:null,ttype:e},{input:"nu",tag:"mi",output:"ν",tex:null,ttype:e},{input:"omega",tag:"mi",output:"ω",tex:null,ttype:e},{input:"Omega",tag:"mo",output:"Ω",tex:null,ttype:e},{input:"phi",tag:"mi",output:"φ",tex:null,ttype:e},{input:"varphi",tag:"mi",output:"ϕ",tex:null,ttype:e},{input:"Phi",tag:"mo",output:"Φ",tex:null,ttype:e},{input:"pi",tag:"mi",output:"π",tex:null,ttype:e},{input:"Pi",tag:"mo",output:"Π",tex:null,ttype:e},{input:"psi",tag:"mi",output:"ψ",tex:null,ttype:e},{input:"Psi",tag:"mi",output:"Ψ",tex:null,ttype:e},{input:"rho",tag:"mi",output:"ρ",tex:null,ttype:e},{input:"sigma",tag:"mi",output:"σ",tex:null,ttype:e},{input:"Sigma",tag:"mo",output:"Σ",tex:null,ttype:e},{input:"tau",tag:"mi",output:"τ",tex:null,ttype:e},{input:"theta",tag:"mi",output:"θ",tex:null,ttype:e},{input:"vartheta",tag:"mi",output:"ϑ",tex:null,ttype:e},{input:"Theta",tag:"mo",output:"Θ",tex:null,ttype:e},{input:"upsilon",tag:"mi",output:"υ",tex:null,ttype:e},{input:"xi",tag:"mi",output:"ξ",tex:null,ttype:e},{input:"Xi",tag:"mo",output:"Ξ",tex:null,ttype:e},{input:"zeta",tag:"mi",output:"ζ",tex:null,ttype:e},{input:"*",tag:"mo",output:"⋅",tex:"cdot",ttype:e},{input:"-:",tag:"mo",output:"÷",tex:"div",ttype:e},{input:"sum",tag:"mo",output:"∑",tex:null,ttype:o},{input:"^^",tag:"mo",output:"∧",tex:"wedge",ttype:e},{input:"xor",tag:"mo",output:"⊕",tex:"oplus",ttype:e},{input:"oplus",tag:"mo",output:"⊕",tex:"oplus",ttype:e},{input:"ominus",tag:"mo",output:"⊖",tex:"ominus",ttype:e},{input:"neg",tag:"mo",output:"¬",tex:"neg",ttype:e},{input:"vv",tag:"mo",output:"∨",tex:"vee",ttype:e},{input:"nn",tag:"mo",output:"∩",tex:"cap",ttype:e},{input:"uu",tag:"mo",output:"∪",tex:"cup",ttype:e},{input:"xx",tex:"times",ttype:e},{input:"!=",tag:"mo",output:"≠",tex:"ne",ttype:e},{input:"<=",tag:"mo",output:"≤",tex:"le",ttype:e},{input:">=",tag:"mo",output:"≥",tex:"ge",ttype:e},{input:"geq",tag:"mo",output:"≥",tex:null,ttype:e},{input:"in",tag:"mo",output:"∈",tex:null,ttype:e},{input:"sub",tag:"mo",output:"⊂",tex:"subset",ttype:e},{input:"sube",tag:"mo",output:"⊆",tex:"subseteq",ttype:e},{input:"(",tag:"mo",output:"(",tex:null,ttype:l},{input:")",tag:"mo",output:")",tex:null,ttype:a},{input:"[",tag:"mo",output:"[",tex:null,ttype:l},{input:"]",tag:"mo",output:"]",tex:null,ttype:a},{input:"{",tag:"mo",output:"{",tex:"{",ttype:l,notexcopy:!0},{input:"}",tag:"mo",output:"}",tex:"}",ttype:a,notexcopy:!0},{input:"|",tag:"mo",output:"|",tex:null,ttype:c},{input:"(:",tag:"mo",output:"〈",tex:"langle",ttype:l},{input:":)",tag:"mo",output:"〉",tex:"rangle",ttype:a},{input:"<<",tag:"mo",output:"〈",tex:"langle",ttype:l},{input:">>",tag:"mo",output:"〉",tex:"rangle",ttype:a},{input:"{:",tag:"mo",output:"{:",tex:null,ttype:l,invisible:!0},{input:":}",tag:"mo",output:":}",tex:null,ttype:a,invisible:!0},{input:"int",tag:"mo",output:"∫",tex:null,ttype:e},{input:"+-",tag:"mo",output:"±",tex:"pm",ttype:e},{input:"O/",tag:"mo",output:"∅",tex:"emptyset",ttype:e},{input:"oo",tag:"mo",output:"∞",tex:"infty",ttype:e},{input:"rarr",tag:"mo",output:"→",tex:"rightarrow",ttype:e},{input:"->",tag:"mo",output:"→",tex:"to",ttype:e},{input:"=>",tag:"mo",output:"⇒",tex:"implies",ttype:e},{input:"<=>",tag:"mo",output:"⇔",tex:"iff",ttype:e},{input:"rightleftharpoons",tag:"mo",output:"⇌",tex:null,ttype:e},{input:"RR",tag:"mo",output:"ℝ",tex:"mathbb{R}",ttype:e,notexcopy:!0},{input:"f",tag:"mi",output:"f",tex:null,ttype:u,func:!0,val:!0},{input:"degree",tag:"mo",tex:null,ttype:e},{input:"degrees",output:"degree",ttype:i},{input:"sin",tag:"mo",output:"sin",tex:null,ttype:u,func:!0},{input:"cos",tag:"mo",output:"cos",tex:null,ttype:u,func:!0},{input:"tan",tag:"mo",output:"tan",tex:null,ttype:u,func:!0},{input:"arcsin",tag:"mo",output:"arcsin",tex:null,ttype:u,func:!0},{input:"arccos",tag:"mo",output:"arccos",tex:null,ttype:u,func:!0},{input:"arctan",tag:"mo",output:"arctan",tex:null,ttype:u,func:!0},{input:"arcsec",tag:"mo",output:"arcsec",tex:null,ttype:u,func:!0},{input:"arccsc",tag:"mo",output:"arccsc",tex:null,ttype:u,func:!0},{input:"arccot",tag:"mo",output:"arccot",tex:null,ttype:u,func:!0},{input:"sinh",tag:"mo",output:"sinh",tex:null,ttype:u,func:!0},{input:"cosh",tag:"mo",output:"cosh",tex:null,ttype:u,func:!0},{input:"tanh",tag:"mo",output:"tanh",tex:null,ttype:u,func:!0},{input:"cot",tag:"mo",output:"cot",tex:null,ttype:u,func:!0},{input:"coth",tag:"mo",output:"coth",tex:null,ttype:u,func:!0},{input:"sech",tag:"mo",output:"sech",tex:null,ttype:u,func:!0},{input:"csch",tag:"mo",output:"csch",tex:null,ttype:u,func:!0},{input:"sec",tag:"mo",output:"sec",tex:null,ttype:u,func:!0},{input:"csc",tag:"mo",output:"csc",tex:null,ttype:u,func:!0},{input:"log",tag:"mo",output:"log",tex:null,ttype:u,func:!0},{input:"ln",tag:"mo",output:"ln",tex:null,ttype:u,func:!0},{input:"abs",tag:"mo",output:"abs",tex:null,ttype:u},{input:"Sin",tag:"mo",output:"sin",tex:null,ttype:u,func:!0},{input:"Cos",tag:"mo",output:"cos",tex:null,ttype:u,func:!0},{input:"Tan",tag:"mo",output:"tan",tex:null,ttype:u,func:!0},{input:"Arcsin",tag:"mo",output:"arcsin",tex:null,ttype:u,func:!0},{input:"Arccos",tag:"mo",output:"arccos",tex:null,ttype:u,func:!0},{input:"Arctan",tag:"mo",output:"arctan",tex:null,ttype:u,func:!0},{input:"Sinh",tag:"mo",output:"sinh",tex:null,ttype:u,func:!0},{input:"Sosh",tag:"mo",output:"cosh",tex:null,ttype:u,func:!0},{input:"Tanh",tag:"mo",output:"tanh",tex:null,ttype:u,func:!0},{input:"Cot",tag:"mo",output:"cot",tex:null,ttype:u,func:!0},{input:"Sec",tag:"mo",output:"sec",tex:null,ttype:u,func:!0},{input:"Csc",tag:"mo",output:"csc",tex:null,ttype:u,func:!0},{input:"Log",tag:"mo",output:"log",tex:null,ttype:u,func:!0},{input:"Ln",tag:"mo",output:"ln",tex:null,ttype:u,func:!0},{input:"Abs",tag:"mo",output:"abs",tex:null,ttype:u,func:!0},{input:"sqrt",tag:"msqrt",output:"sqrt",tex:null,ttype:u},{input:"root",tag:"mroot",output:"root",tex:null,ttype:p},{input:"frac",tag:"mfrac",output:"/",tex:null,ttype:p},{input:"/",tag:"mfrac",output:"/",tex:null,ttype:n},{input:"stackrel",tag:"mover",output:"stackrel",tex:null,ttype:p},{input:"_",tag:"msub",output:"_",tex:null,ttype:n},{input:"^",tag:"msup",output:"^",tex:null,ttype:n},{input:"Sqrt",tag:"msqrt",output:"sqrt",tex:null,ttype:u},{input:"hat",tag:"mover",output:"^",tex:null,ttype:u,acc:!0},{input:"bar",tag:"mover",output:"¯",tex:"overline",ttype:u,acc:!0},{input:"vec",tag:"mover",output:"→",tex:null,ttype:u,acc:!0},{input:"text",tag:"mtext",output:"text",tex:null,ttype:g},{input:"mbox",tag:"mtext",output:"mbox",tex:null,ttype:g},s];function x(t,e){return t.input>e.input?1:-1}var y,h,f,b=[];function v(t,e){var u;u="\\"==t.charAt(e)&&"\\"!=t.charAt(e+1)&&" "!=t.charAt(e+1)?t.slice(e+1):t.slice(e);for(var p=0;p<u.length&&u.charCodeAt(p)<=32;p+=1);return u.slice(p)}function d(t,e,u){if(0==u){var p,n;for(u=-1,p=t.length;u+1<p;)t[n=u+p>>1]<e?u=n:p=n;return p}for(var l=u;l<t.length&&t[l]<e;l++);return l}function A(p){for(var l,a,r,o=0,i="",c=!0,g=1;g<=p.length&&c;g++)a=p.slice(0,g),(o=d(b,a,o))<b.length&&p.slice(0,b[o].length)==b[o]&&(l=o,g=(i=b[o]).length),c=o<b.length&&p.slice(0,b[o].length)>=b[o];if(h=f,""!=i)return f=m[l].ttype,m[l];f=e,o=1,a=p.slice(0,1);for(var s=!0;"0"<=a&&a<="9"&&o<=p.length;)a=p.slice(o,o+1),o++;if(a==t&&(a=p.slice(o,o+1),o++,"0"<=a&&a<="9"))for(s=!1;"0"<=a&&a<="9"&&o<=p.length;)a=p.slice(o,o+1),o++;return s&&o>1||o>2?(a=p.slice(0,o-1),r="mn"):(o=2,r=("A">(a=p.slice(0,1))||a>"Z")&&("a">a||a>"z")?"mo":"mi"),"-"==a&&" "!==p.charAt(1)&&h==n?(f=n,{input:a,tag:r,output:a,ttype:u,func:!0,val:!0}):{input:a,tag:r,output:a,ttype:e,val:!0}}function $(t){var e;if("{"==t.charAt(0)&&"}"==t.charAt(t.length-1)){var u=0;"\\left"==(e=t.substr(1,5))?"("==(e=t.charAt(6))||"["==e||"{"==e?u=7:"\\lbrace"==(e=t.substr(6,7))&&(u=13):"("!=(e=t.charAt(1))&&"["!=e||(u=2),u>0&&("\\right)}"==(e=t.substr(t.length-8))||"\\right]}"==e||"\\right.}"==e?t=(t="{"+t.substr(u)).substr(0,t.length-8)+"}":"\\rbrace}"==e&&(t=(t="{"+t.substr(u)).substr(0,t.length-14)+"}"))}return t}function w(t){return"boolean"==typeof t.val&&t.val?pre="":pre="\\",null==t.tex?pre+t.input:pre+t.tex}function _(t){return null==t.tex?t.input:"\\"+t.tex}function q(t){var m,x,h,f,b="";if(null==(m=A(t=v(t,0)))||m.ttype==a&&y>0)return[null,t];switch(m.ttype==i&&(m=A(t=m.output+v(t,m.input.length))),m.ttype){case o:case e:t=v(t,m.input.length);var d=w(m);return"\\"==d.charAt(0)||"mo"==m.tag?[d,t]:["{"+d+"}",t];case l:if(y++,h=R(t=v(t,m.input.length),!0),y--,h[0].match(/bmatrix/))return[x=h[0].substring(0,h[0].length-7),h[1]];var O=0;return"\\right"==h[0].substr(0,6)&&(")"==(S=h[0].charAt(6))||"]"==S||"}"==S?O=6:"."==S?O=7:"\\rbrace"==(S=h[0].substr(6,7))&&(O=13)),O>0?(h[0]=h[0].substr(O),x="boolean"==typeof m.invisible&&m.invisible?"{"+h[0]+"}":"{"+_(m)+h[0]+"}"):x="boolean"==typeof m.invisible&&m.invisible?"{"+h[0]+"}":"{\\left"+_(m)+h[0]+"}",[x,h[1]];case g:return m!=s&&(t=v(t,m.input.length)),-1==(f="{"==t.charAt(0)?t.indexOf("}"):"("==t.charAt(0)?t.indexOf(")"):"["==t.charAt(0)?t.indexOf("]"):m==s?t.slice(1).indexOf('"')+1:0)&&(f=t.length),[b+="\\text{"+(S=t.slice(1,f))+"}",t=v(t,f+1)];case u:return null==(h=q(t=v(t,m.input.length)))[0]?["{"+w(m)+"}",t]:"boolean"==typeof m.func&&m.func?"^"==(S=t.charAt(0))||"_"==S||"/"==S||"|"==S||","==S||1==m.input.length&&m.input.match(/\w/)&&"("!=S?["{"+w(m)+"}",t]:[x="{"+w(m)+"{"+h[0]+"}}",h[1]]:(h[0]=$(h[0]),"sqrt"==m.input?["\\sqrt{"+h[0]+"}",h[1]]:"abs"==m.input?["\\left|{"+h[0]+"}\\right|",h[1]]:"cancel"==m.input?["\\cancel{"+h[0]+"}",h[1]]:void 0!==m.rewriteleftright?["{\\left"+m.rewriteleftright[0]+h[0]+"\\right"+m.rewriteleftright[1]+"}",h[1]]:"boolean"==typeof m.acc&&m.acc?[w(m)+"{"+h[0]+"}",h[1]]:["{"+w(m)+"{"+h[0]+"}}",h[1]]);case p:if(null==(h=q(t=v(t,m.input.length)))[0])return["{"+w(m)+"}",t];h[0]=$(h[0]);var E=q(h[1]);return null==E[0]?["{"+w(m)+"}",t]:(E[0]=$(E[0]),[b="color"==m.input?"{\\color{"+h[0].replace(/[\{\}]/g,"")+"}"+E[0]+"}":"root"==m.input?"{\\sqrt["+h[0]+"]{"+E[0]+"}}":"{"+w(m)+"{"+h[0]+"}{"+E[0]+"}}",E[1]]);case n:return t=v(t,m.input.length),[m.output,t];case r:return t=v(t,m.input.length),["{\\quad\\text{"+m.input+"}\\quad}",t];case c:y++,h=R(t=v(t,m.input.length),!1),y--;var S="";return"|"==(S=h[0].charAt(h[0].length-1))?[x="{\\left|"+h[0]+"}",h[1]]:[x="{\\mid}",t];default:return t=v(t,m.input.length),["{"+w(m)+"}",t]}}function O(t){var e,u,p,l,r;if(u=A(t=v(t,0)),l=(r=q(t))[0],(e=A(t=r[1])).ttype==n&&"/"!=e.input){if(null==(r=q(t=v(t,e.input.length)))[0]?r[0]="{}":r[0]=$(r[0]),t=r[1],"_"==e.input)if("^"==(p=A(t)).input){var o=q(t=v(t,p.input.length));o[0]=$(o[0]),t=o[1],l="{"+l,l+="_{"+r[0]+"}",l+="^{"+o[0]+"}",l+="}"}else l+="_{"+r[0]+"}";else l=l+"^{"+r[0]+"}";void 0!==u.func&&u.func&&(p=A(t)).ttype!=n&&p.ttype!=a&&(l="{"+l+(r=O(t))[0]+"}",t=r[1])}return[l,t]}var E=!0;function R(t,e){var u,p,l,r,o="",i=!1;do{p=(l=O(t=v(t,0)))[0],(u=A(t=l[1])).ttype==n&&"/"==u.input?(null==(l=O(t=v(t,u.input.length)))[0]?l[0]="{}":l[0]=$(l[0]),t=l[1],p="\\frac{"+(p=$(p))+"}",o+=p+="{"+l[0]+"}",u=A(t)):null!=p&&(o+=p)}while((u.ttype!=a&&(u.ttype!=c||e)||0==y)&&null!=u&&""!=u.output);if(u.ttype==a||u.ttype==c){var g=o.length;if(E&&g>2&&"{"==o.charAt(0)&&o.indexOf(",")>0){var s=o.charAt(g-2);if(")"==s||"]"==s){var m=o.charAt(6);if("("==m&&")"==s&&"}"!=u.output||"["==m&&"]"==s){var x="\\begin{bmatrix}",h=new Array;h.push(0);var f=!0,b=0,d=[];d[0]=[0];var w=0,q=0;for(r=1;r<g-1;r++)o.charAt(r)==m&&b++,o.charAt(r)==s&&0==--b&&","==o.charAt(r+2)&&"{"==o.charAt(r+3)&&(h.push(r+2),d[w=r+2]=[r+2]),"["!=o.charAt(r)&&"("!=o.charAt(r)&&"{"!=o.charAt(r)||q++,"]"!=o.charAt(r)&&")"!=o.charAt(r)&&"}"!=o.charAt(r)||q--,","==o.charAt(r)&&1==q&&d[w].push(r);h.push(g);var R=-1;if(0==b&&h.length>0)for(r=0;r<h.length-1;r++){if(r>0&&(x+="\\\\"),0==r)if(1==d[h[r]].length)var S=[o.substr(h[r]+7,h[r+1]-h[r]-15)];else{S=[o.substring(h[r]+7,d[h[r]][1])];for(var z=2;z<d[h[r]].length;z++)S.push(o.substring(d[h[r]][z-1]+1,d[h[r]][z]));S.push(o.substring(d[h[r]][d[h[r]].length-1]+1,h[r+1]-8))}else if(1==d[h[r]].length)S=[o.substr(h[r]+8,h[r+1]-h[r]-16)];else{for(S=[o.substring(h[r]+8,d[h[r]][1])],z=2;z<d[h[r]].length;z++)S.push(o.substring(d[h[r]][z-1]+1,d[h[r]][z]));S.push(o.substring(d[h[r]][d[h[r]].length-1]+1,h[r+1]-8))}R>0&&S.length!=R?f=!1:-1==R&&(R=S.length),x+=S.join("&")}x+="\\end{bmatrix}",f&&(o=x)}}}t=v(t,u.input.length),"boolean"==typeof u.invisible&&u.invisible||(o+=p="\\right"+_(u)),i=!0}return y>0&&!i&&(o+="\\right)"),[o,t]}return function(){var t,e=[];for(t=0;t<m.length;t++)!m[t].tex||"boolean"==typeof m[t].notexcopy&&m[t].notexcopy||(e[e.length]={input:m[t].tex,tag:m[t].tag,output:m[t].output,ttype:m[t].ttype,acc:m[t].acc||!1});for((m=m.concat(e)).sort(x),t=0;t<m.length;t++)b[t]=m[t].input}(),function(t,e,u){return y=0,!0===u&&(E=!1),t=t.replace(/(&nbsp;|\u00a0|&#160;|{::})/g,""),document.getElementById(e)&&document.getElementById(e).getAttribute("data-mq").match(/(ntuple|string)/)&&(t=t.replace(/<([^<].*?,.*?[^>])>/g,"<<$1>>")),t=(t=(t=(t=(t=(t=t.replace(/&gt;/g,">")).replace(/&lt;/g,"<")).replace(/\s*\bor\b\s*/g,'" or "')).replace(/all\s+real\s+numbers/g,'"all real numbers"')).replace(/(\)|\])\s*u\s*(\(|\[)/g,"$1U$2")).replace(/\bDNE\b/gi,'"DNE"'),document.getElementById(e)&&document.getElementById(e).getAttribute("data-mq").match(/interval/)&&(t=t.replace(/\bU\b/g,"cup")),null==t.match(/\S/)?"":R(t.replace(/^\s+/g,""),!1)[0]}}();function MQtoAM(t,e){var u,p,n,l,a,r;if(t=(t=t.replace(/\\:/g," ")).replace(/\\operatorname{(\w+)}/g," $1"),e)t=t.replace(/\\Re/g,"RR");else{for(;-1!=(r=t.lastIndexOf("\\left|"));)-1!=(p=t.indexOf("\\right|",r+1))?(n=t.substring(0,r).match(/(arcsinh|arccosh|arctanh|arcsech|arccsch|arccoth|arcsin|arccos|arctan|arcsec|arccsc|arccot|sinh|cosh|tanh|sech|csch|coth|ln|log|exp|sin|cos|tan|sec|csc|cot)(\^\d+)?$/),t=(t=t.substring(0,p)+")"+(n?")":"")+t.substring(p+7)).substring(0,r)+(n?"(":"")+"abs("+t.substring(r+6)):t=t.substring(0,r)+"|"+t.substring(r+6);t=(t=(t=(t=(t=t.replace(/\\text{\s*or\s*}/g," or ")).replace(/\\text{all\s+real\s+numbers}/g,"all real numbers")).replace(/\\text{DNE}/g,"DNE")).replace(/\\varnothing/g,"DNE")).replace(/\\Re/g,"all real numbers")}for(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/\\begin{.?matrix}(.*?)\\end{.?matrix}/g,(function(t,e){return"[("+e.replace(/\\\\/g,"),(").replace(/&/g,",")+")]"}))).replace(/\\le(?=(\b|\d))/g,"<=")).replace(/\\ge(?=(\b|\d))/g,">=")).replace(/\\ne(?=(\b|\d))/g,"!=")).replace(/\+\-/g,"+ -")).replace(/\\pm/g,"+-")).replace(/\\approx/g,"~~")).replace(/(\\arrow|\\rightarrow)/g,"rarr")).replace(/\\rightleftharpoons/g,"rightleftharpoons")).replace(/\\sim/g,"~")).replace(/\\vee/g,"vv").replace(/\\wedge/g," ^^ ")).replace(/\\Rightarrow/g,"=>").replace(/\\Leftrightarrow/g,"<=>")).replace(/\\times/g,"xx")).replace(/\\left\\{/g,"lbrace").replace(/\\right\\}/g,"rbrace")).replace(/\\left/g,"")).replace(/\\right/g,"")).replace(/\\langle/g,"<<")).replace(/\\rangle/g,">>")).replace(/\\cdot/g,"*")).replace(/\\infty/g,"oo")).replace(/\\nthroot/g,"root")).replace(/\\mid/g,"|")).replace(/\\/g,"")).replace(/sqrt\[(.*?)\]/g,"root($1)")).replace(/(\d)frac/g,"$1 frac")).replace(/degree/g,"degree ");-1!=(r=t.indexOf("frac{"));){for(u=1,l=r+5;u>0&&l<t.length-1;)l++,"{"==(a=t.charAt(l))?u++:"}"==a&&u--;t=0==u?t.substring(0,r)+"("+t.substring(r+5,l)+")/"+t.substring(l+1):t.substring(0,r)+t.substring(r+4)}return(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/_(\w)(\w)/g,"_$1 $2")).replace(/(\^|_)([+\-])([^\^])/g,"$1$2 $3")).replace(/\^(\w)(\w)/g,"^$1 $2")).replace(/_{([\d\.]+)}\^/g,"_$1^")).replace(/_{([\d\.]+)}([^\^])/g,"_$1 $2")).replace(/_{([\d\.]+)}$/g,"_$1")).replace(/_{(\w+)}$/g,"_($1)")).replace(/{/g,"(").replace(/}/g,")")).replace(/lbrace/g,"{").replace(/rbrace/g,"}")).replace(/\(([\d\.]+)\)\/\(([\d\.]+)\)/g,"$1/$2 ")).replace(/\/\(([\d\.]+)\)/g,"/$1")).replace(/\(([\d\.]+)\)\//g,"$1/")).replace(/\/\(([a-zA-Z])\)/g,"/$1")).replace(/\(([a-zA-Z])\)\//g,"$1/")).replace(/\^\((-?[\d\.]+)\)(\d)/g,"^$1 $2")).replace(/\^\(-1\)/g,"^-1")).replace(/\^\((-?[\d\.]+)\)/g,"^$1")).replace(/\/\(([a-zA-Z])\^([\d\.]+)\)/g,"/$1^$2 ")).replace(/\(([a-zA-Z])\^([\d\.]+)\)\//g,"$1^$2/")).replace(/text\(([^)]*)\)/g,"$1")).replace(/\(\s*(\w)/g,"($1").replace(/(\w)\s*\)/g,"$1)")).replace(/^\s+|\s+$/g,"")}